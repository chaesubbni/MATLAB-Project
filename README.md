# MATLAB-Project
### 흔들리는 나무 구현하기.

### 평소 모습
<img width="769" height="728" alt="image" src="https://github.com/user-attachments/assets/4743ff75-0849-4993-9db8-c79b06e87df4" />

### 바람 불었을 때
<img width="765" height="719" alt="image" src="https://github.com/user-attachments/assets/76e723cb-17c8-48c0-90ab-89438917bb4f" />

### 나무 생성
몸통: 위로 갈수록 반지름이 줄어드는 원뿔(또는 절두원뿔) 메시.
가지: 여러 개의 작은 원뿔. 각 가지는 높이/기울기/방향이 다름.
잎: 몸통·가지 끝에 위치한 구(sphere) 모양의 점군/메시.

### 원리
Rz1: 바람 방향에 따른 수평 회전(야우).
Rx: 흔들림 강도(Weight_b)로 제어되는 앞뒤 기울기(롤).
R/R2: 가지 자체의 기본 기울기 형태를 만드는 고정 행렬(형상 유지).
잎·가지·몸통은 계층적으로 붙어 있어, 몸통이 흔들리면 그 위의 가지·잎도 함께 따라 움직임. 
wind_direction: 바람의 진행 각도.
wind_x, wind_y: 프레임마다 갱신되는 바람의 위치(궤적도 함께 기록).
xy_dist_old/new 비교로 “바람이 더 가까워졌는지” 판단 → 가까워질수록 t_vector(기울기 벡터) 업데이트.
Weight_a: 바람 방향에 따른 회전 가중치(얼마나 눕힐지).
Weight_b: 흔들림(진동) 강도 가중치(시간에 따른 흔들림량).
→ 즉, 바람과의 거리·방향을 이용해 회전행렬(Rz1, Rx)을 만들고, 그걸 몸통/가지/잎 점군에 적용해 흔들리는 효과를 줌.

### 왜 이렇게 코딩했는지
재배열 + 동차좌표로 복잡한 구조(몸통–가지–잎)를 벡터화로 한 번에 변환.
거리기반 가중치로 바람이 가까울수록 더 크게 흔들리게 해 자연스러운 반응.


## 프로젝트 의의
행렬로 나무의 구조를 만들고, **평행이동·회전 등 아핀 변환**을 적용해 본 실습이었다.  
바람의 **방향·거리 기반 가중치**를 도입해 흔들림을 표현하며, 수학적 모델이 **시각적·동적 효과**로 이어지는 걸 체감했다.  
결과적으로, 벡터화된 변환으로 **간단·빠르게** “바람에 흔들리는 나무”를 구현해 뿌듯했다.
